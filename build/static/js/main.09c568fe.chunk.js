(this.webpackJsonpfilmforum=this.webpackJsonpfilmforum||[]).push([[0],{56:function(e,t,r){},57:function(e,t,r){"use strict";r.r(t);var c=r(26),a=r.n(c),s=r(1),n=r(3),i=r(2),d=r(0),l=function(e){var t=e.id,r=e.title,c=e.posterPath,a=Object(i.f)();return Object(d.jsxs)("div",{className:"w-28 md:w-40 ",children:[Object(d.jsx)("p",{children:Object(d.jsx)("button",{onClick:function(){a.push("/detail/".concat(t)),window.scrollTo(0,0)},children:Object(d.jsx)("img",{className:"h-40 md:h-60 border-2 border-transparent hover:border-gray-100 shadow-2xl hover:shadow-2xl hover:shadow-2xl hover:shadow-inner rounded-md",src:c,alt:r})})}),Object(d.jsx)("p",{className:"text-white font-bold overflow-hidden truncate w-full text-center pt-1",children:r})]})},o=r(10),j=r.n(o),x={getPopularList:function(e){var t=e;return j.a.get("/api/list/sorted?sort_by=".concat(t)).then((function(e){return e.data}))},getPeriodList:function(e){return j.a.get("/api/list/year?year=".concat(e)).then((function(e){return e.data}))}},b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAooAAAADCAYAAAAUVC61AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA0SURBVFhH7dixCQAgDADBZD9nc96ICDZiIY5wV/0Mn7OqBQAAPHKN0U8DAMDlKAIA8BGxAdpmCe9CzhhGAAAAAElFTkSuQmCC",m=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("nav",{className:"w-full top-0 ml-1 px-1 md:px-6 md:py-1",children:Object(d.jsxs)("div",{className:"w-full container mx-auto flex flex-wrap justify-between items-center mt-0  py-3",children:[Object(d.jsxs)("p",{className:"uppercase  tracking-wide font-bold text-gray-100 text-xl",children:[e.name," "]}),Object(d.jsx)("img",{className:"hidden 2xl:block lg:mx-16 ",src:b,alt:"Line border"}),Object(d.jsx)("img",{className:"md:hidden xl:block 2xl:hidden xl:px-6 ",src:b,alt:"Line border"})]})})})},u=function(e){var t=e.type,r=e.query,c=e.name,a=Object(s.useState)([]),i=Object(n.a)(a,2),o=i[0],j=i[1];Object(s.useEffect)((function(){var e=!0;return 0===t?x.getPeriodList(r).then((function(t){e&&j(b(8,t))})):1===t&&x.getPopularList(r).then((function(t){e&&j(b(8,t))})),function(){e=!1}}),[t,r]);var b=function(e,t){for(var r=[],c=0;c<e;c++)r[c]=t[c];return r};return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"container w-2/3 md:w-full xl:w-3/4 mx-auto flex flex-wrap justify-center",children:[Object(d.jsx)(m,{name:c}),Object(d.jsx)("div",{className:"flex flex-wrap xl:flex-nowrap justify-center pb-1",children:o.map((function(e,t){return Object(d.jsx)("div",{className:"p-1",children:Object(d.jsxs)("div",{children:[t<6&&Object(d.jsx)(l,{id:e.id,posterPath:e.poster_path,title:e.original_title}),t>=6&&Object(d.jsx)("div",{className:"hidden md:inline lg:hidden",children:Object(d.jsx)(l,{id:e.id,posterPath:e.poster_path,title:e.original_title})})]})},Number(e.id))}))})]})})},h={getMovie:function(e){return j.a.get("/api/movie/".concat(e)).then((function(e){return e.data}))},getMovieCast:function(e){return j.a.get("/api/movie/".concat(e,"/credits")).then((function(e){return e.data}))}},p=function(e){var t=e.review,r=Object(s.useState)({}),c=Object(n.a)(r,2),a=c[0],l=c[1];Object(s.useEffect)((function(){var e=!0;return h.getMovie(t.movieId).then((function(t){e&&l(t)})),function(){e=!1}}),[t.movieId]);var o=Object(i.f)();return Object(d.jsx)("div",{className:"w-full rounded overflow-hidden border-2 border-transparent hover:border-gray-100 shadow-2xl hover:shadow-2xl hover:shadow-2xl hover:shadow-inner",children:Object(d.jsx)("button",{onClick:function(){o.push("/review/".concat(t.id)),window.scrollTo(0,0)},className:"w-full",children:Object(d.jsxs)("div",{className:"h-48 flex justify-between",children:[Object(d.jsx)("img",{className:"h-48 ml-2 my-2",src:a.poster_path,alt:a.title}),Object(d.jsxs)("div",{className:"px-12 py-0 text-center",children:[Object(d.jsx)("p",{className:"font-bold w-full overflow-ellipsis text-xl",children:a.title}),Object(d.jsx)("p",{className:"font-bold w-full overflow-clip text-blue-100 mb-2",children:t.author}),Object(d.jsx)("p",{className:"w-full overflow-ellipsis p-0 text-gray-700 ",children:t.content})]}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)("ion-icon",{name:"chevron-forward-outline",size:"large"})})]})})})},v={getReview:function(e){return j.a.get("/api/review/".concat(e)).then((function(e){return e.data}))},getReviews:function(){return j.a.get("/api/review/").then((function(e){return e.data}))},createReview:function(e){return j.a.post("/api/review/",e).then((function(e){return e.data}))}},O=function(e){var t=e.name,r=Object(s.useState)([]),c=Object(n.a)(r,2),a=c[0],i=c[1];return Object(s.useEffect)((function(){var e=!0;return v.getReviews().then((function(t){e&&i(t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})))})),function(){e=!1}}),[]),a.length>0?Object(d.jsxs)("div",{className:"md:w-2/3 mx-auto",children:[Object(d.jsx)(m,{name:t}),Object(d.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 items-center gap-x-2.5 gap-y-2.5",children:[Object(d.jsx)("div",{className:"col-start-1 col-end-2 row-start-1 row-end-2",children:Object(d.jsx)(p,{review:a[0]})}),Object(d.jsx)("div",{className:"col-start-2 col-end-3 row-start-1 row-end-2",children:Object(d.jsx)(p,{review:a[1]})}),Object(d.jsx)("div",{className:"col-start-1 col-end-2 row-start-2 row-end-3",children:Object(d.jsx)(p,{review:a[2]})}),Object(d.jsx)("div",{className:"col-start-2 col-end-3 row-start-2 row-end-3",children:Object(d.jsx)(p,{review:a[3]})})]})]}):null},f=function(){return Object(d.jsxs)("div",{className:"bg-gradient-to-r from-gray-400 via-red-400 to-gray-400 text-white pb-8",children:[Object(d.jsx)("div",{className:"py-4"}),Object(d.jsx)(u,{name:"Popular now",type:1,query:"popularity.desc"}),Object(d.jsx)(O,{name:"New reviews"}),Object(d.jsx)(u,{name:"Popular 1985",type:0,query:"1985"}),Object(d.jsx)(u,{name:"Popular 1895",type:0,query:"1895"})]})},w=function(e){var t=Object(s.useState)(""),r=Object(n.a)(t,2),c=r[0],a=r[1],i=Object(s.useState)(""),l=Object(n.a)(i,2),o=l[0],j=l[1],x=Object(s.useState)(!1),b=Object(n.a)(x,2),m=b[0],u=b[1];return m?Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"flex mx-auto bg-gray-800 items-center justify-center shadow-lg  mx-8 rounded-b-md",children:Object(d.jsx)("div",{className:"text-gray-100 text-2xl pt-8 pb-16",children:" Thanks for your contribution! "})})}):Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"flex mx-auto bg-gray-800 px-5 lg:px-0 items-center justify-center shadow-lg mx-8 rounded-b-md",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r={author:c,content:o,movieId:e.movieId};v.createReview(r).then((function(){a(""),j(""),u(!0)}))},children:[Object(d.jsxs)("div",{className:"mt-2",children:[Object(d.jsx)("h2",{className:"pt-3 pb-4 text-gray-100 text-center text-2xl",children:" Add a review for this movie "}),Object(d.jsx)("input",{className:"font-medium rounded border border-gray-400 py-1 px-3 text-gray-500",value:c,onChange:function(e){a(e.target.value)},placeholder:"Your name"}),Object(d.jsx)("textarea",{className:" rounded border border-gray-400 leading-normal w-full h-52 py-1 px-3 mt-3 font-medium text-gray-500",value:o,onChange:function(e){j(e.target.value)},placeholder:"Type your review here"})]}),Object(d.jsx)("button",{className:"bg-white text-gray-700 font-medium py-1 px-4 mt-3 mb-5 mr-1 border border-gray-400 rounded-lg tracking-wide hover:bg-gray-100",type:"submit",children:"Submit"})]})})})},g=function(e){var t=e.id,r=Object(s.useState)(""),c=Object(n.a)(r,2),a=c[0],i=c[1],l=Object(s.useState)(""),o=Object(n.a)(l,2),j=o[0],x=o[1],b=Object(s.useState)({}),m=Object(n.a)(b,2),u=m[0],p=m[1];return Object(s.useEffect)((function(){var e=!0;return h.getMovie(t).then((function(t){e&&p(t)})),h.getMovieCast(t).then((function(t){var r=[];t.crew.forEach((function(e){"Director"===e.job&&r.push(e.name)})),e&&i(r.join(", "));var c=t.cast.length;if(c>0){var a=[];t.cast.forEach((function(e){a.length<3&&t.cast.indexOf(e)!==c-1?a.push(e.name+","):a.length<4&&a.push(e.name)})),c>a.length&&a.push("and "+(c-a.length)+" more"),e&&x(a.join(" "))}else e&&x("N/A")})),function(){e=!1}}),[t]),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"bg-gradient-to-r from-gray-400 via-red-400 to-gray-400 text-xl text-white ",children:Object(d.jsxs)("div",{className:"py-7 ",children:[Object(d.jsxs)("div",{className:"text-center md:text-left w-11/12 md:w-2/3 mx-auto py-9 px-9 bg-gray-800 grid grid-cols-5 rounded-t-md ",children:[Object(d.jsx)("div",{className:"col-start-1 col-end-6 md:col-end-3 row-start-3 md:row-start-1 row-end-6 ",children:Object(d.jsx)("img",{className:"shadow-2xl md:mt-8 rounded-md w-3/4 mx-auto",src:u.poster_path,alt:u.title})}),Object(d.jsxs)("div",{className:"col-start-1 md:col-start-3 col-end-6 row-start-1 row-end-3 pb-12",children:[Object(d.jsxs)("h1",{className:"tracking-wide font-bold text-4xl pt-6",children:[u.title," "]}),Object(d.jsxs)("p",{className:"pt-2 text-2xl ",children:[u.year," | ",Object(d.jsx)("span",{className:"hidden md:inline",children:"Directed by "}),a," "]}),Object(d.jsxs)("p",{className:"break-words pt-1 h-16 md:min-h-24 ",children:["Cast: ",j]})]}),Object(d.jsxs)("div",{className:"rounded-md mt-5 md:mt-0 col-start-1 lg:col-start-3 col-end-6 row-start-6 md:row-start-3 row-end-6",children:[Object(d.jsxs)("p",{className:"italic",children:[u.tagline,"  "]}),Object(d.jsx)("p",{className:"text-left pt-3",children:u.overview})]})]}),Object(d.jsx)("div",{className:"w-11/12 md:w-2/3 mx-auto",children:Object(d.jsx)(w,{movieId:t})})]})})})},N=function(e){var t=e.id,r=Object(s.useState)({}),c=Object(n.a)(r,2),a=c[0],i=c[1],l=Object(s.useState)({}),o=Object(n.a)(l,2),j=o[0],x=o[1];return Object(s.useEffect)((function(){var e=!0;return v.getReview(t).then((function(t){e&&i(t)})),a.movieId&&e&&h.getMovie(a.movieId).then((function(e){return x(e)})),function(){e=!1}}),[t,a.movieId]),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"bg-gradient-to-r from-gray-400 via-red-400 to-gray-400 text-xl text-white ",children:Object(d.jsx)("div",{className:"py-7",children:Object(d.jsxs)("div",{className:"text-center md:text-left w-11/12 md:w-2/3 mx-auto py-9 px-9 bg-gray-800 grid grid-cols-5 rounded-md",children:[Object(d.jsx)("div",{className:"col-start-1 col-end-3 row-start-3 md:row-start-1 row-end-6 ",children:Object(d.jsx)("img",{className:"hidden lg:block mt-8 shadow-2xl rounded-md w-3/4 mx-auto",src:j.poster_path,alt:j.title})}),Object(d.jsxs)("div",{className:"col-start-1 lg:col-start-3 text-center col-end-6 row-start-1 row-end-3 pb-12",children:[Object(d.jsxs)("h1",{className:"tracking-wide font-bold text-4xl pt-6",children:[j.title," "]}),Object(d.jsxs)("p",{className:"pt-2 text-2xl",children:["Review by ",a.author," "]})]}),Object(d.jsx)("div",{className:"rounded-md col-start-1 lg:col-start-3 col-end-6 row-start-3 row-end-6",children:Object(d.jsx)("p",{className:"text-left pt-3",children:a.content})})]})})})})},y=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),r=t[0],c=t[1];return Object(s.useEffect)((function(){var e=!0;return v.getReviews().then((function(t){e&&c(t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})))})),function(){e=!1}}),[]),Object(d.jsxs)("div",{className:"bg-gradient-to-r from-gray-400 via-red-400 to-gray-400 text-xl text-white",children:[Object(d.jsx)("p",{className:"text-center uppercase tracking-wide font-bold text-gray-100 text-4xl py-16",children:" Recent Reviews "}),Object(d.jsx)("div",{className:"w-full mx-auto",children:r.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"flex flex-nowrap justify-center gap-x-2 pb-5 w-1/2 mx-auto",children:Object(d.jsx)(p,{review:e})})},e.id)}))})]})},A=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"bg-gradient-to-r from-gray-400 via-red-400 to-gray-400 text-xl text-white",children:Object(d.jsx)("div",{className:"py-7",children:Object(d.jsx)("div",{className:"grid grid-cols-5 rounded-md text-center md:text-left w-11/12 md:w-2/3 mx-auto py-9 px-9 bg-gray-800",children:Object(d.jsx)("div",{className:"rounded-md col-start-1 col-end-6 row-start-3 row-end-6",children:Object(d.jsx)("p",{className:"mx-auto pb-4 text-left my-20",children:"Welcome to Film Review, a place for browsing movies and posting reviews about them. This site was made with React, NodeJS, Express and a MongoDb database. It's mostly for show and to let me experiment with React. Movie lists and information are fetched from The Movie Database (TMDB) API and reviews are stored in my MongoDb database.  "})})})})})})},D=r.p+"static/media/tmdb.caee7457.svg",S=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"bg-brdr-pattern h-4"}),Object(d.jsxs)("div",{className:"bg-black text-white p-8 text-center",children:[Object(d.jsx)("p",{className:"mx-auto pb-4",children:"Created by Benjamin Vaughn"}),Object(d.jsx)("p",{className:"mx-auto pb-2",children:"This product uses the TMDb API but is not endorsed or certified by TMDb."}),Object(d.jsx)("img",{className:"mx-auto pb-4",src:D,alt:"TMDB logo",style:{width:400}})]})]})},k=r.p+"static/media/filmreview_logo.bd90da3b.png",M=r(9),C=function(){return Object(d.jsx)("div",{className:"pb-3 md:pt-8 pr-8 ",children:Object(d.jsxs)("div",{className:"pl-6 text-gray-100 text-xl font-semibold space-x-3 tracking-wide",children:[Object(d.jsx)(M.b,{className:"lg:pr-5 px-4 md:px-2 lg:px-5 hover:text-gray-300",to:"/",children:"Home"}),Object(d.jsx)(M.b,{className:"lg:pr-5 px-4 md:px-2 lg:px-5 hover:text-gray-300",to:"/browse/reviews",children:"Browse"}),Object(d.jsx)(M.b,{className:"lg:pr-5 px-4 md:px-2 lg:px-5 hover:text-gray-300",to:"/about",children:"About"})]})})},R=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"bg-black p-1 flex flex-wrap justify-center md:justify-evenly lg:justify-between",children:[Object(d.jsx)("div",{className:"w-96 py-5 ml-2 sm:ml-6 md:ml-22 ",children:Object(d.jsx)(M.b,{to:"/",children:Object(d.jsx)("img",{src:k,alt:"Main logo"})})}),Object(d.jsx)(C,{})]}),Object(d.jsx)("div",{className:"bg-brdr-pattern h-4"})]})},I=function(){var e=Object(i.g)("/detail/:id"),t=e?e.params.id:0,r=Object(i.g)("/review/:id"),c=r?r.params.id:0;return Object(d.jsxs)("div",{children:[Object(d.jsx)(R,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/detail/:id",children:Object(d.jsx)(g,{id:t})}),Object(d.jsx)(i.a,{path:"/review/:id",children:Object(d.jsx)(N,{id:c})}),Object(d.jsx)(i.a,{path:"/browse/reviews",children:Object(d.jsx)(y,{})}),Object(d.jsx)(i.a,{path:"/about",children:Object(d.jsx)(A,{})}),Object(d.jsx)(i.a,{path:"/",children:Object(d.jsx)(f,{})})]}),Object(d.jsx)(S,{})]})};r(56);a.a.render(Object(d.jsx)(M.a,{children:Object(d.jsx)(I,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.09c568fe.chunk.js.map